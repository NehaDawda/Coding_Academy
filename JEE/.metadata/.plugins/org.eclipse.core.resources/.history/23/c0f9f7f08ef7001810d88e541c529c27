/**
 * 
 */
package com.jpm.jpa.client;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import com.jpm.jpa.entities.Employee;

/**
 * @author Administrator
 *
 */
public class EmployeeJPAClient {
	public static void main(String[] args) {
		String persistenceUnitName = "JPA-PU";
		// Step 1: Create EntityManagerFactory Object
		EntityManagerFactory emFactory = Persistence.createEntityManagerFactory(persistenceUnitName);
		// Step 2: Create EntityManager Object
		EntityManager em = emFactory.createEntityManager();
		// Step 3: begin Transaction
		em.getTransaction().begin();
		// Step 4: create the entity object and persist entity
		Employee emp = new Employee(111, "Raj", 999);
		em.persist(emp); //persisting the emp object in DB
		// Step 5: commit transaction
		em.getTransaction().commit();
		// step 6: close EntityManager
		em.close();
		// step 7: close EntityManagerFactory
		emFactory.close();
	}

}
